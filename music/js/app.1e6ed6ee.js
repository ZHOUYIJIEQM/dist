(function(e){function t(t){for(var o,a,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);f&&f(t);while(d.length)d.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=u(u.s=n[0]))}return e}var o={},a={app:0},i={app:0},r=[];function c(e){return u.p+"js/"+({DailyRecommend:"DailyRecommend",FMMusic:"FMMusic",Home:"Home",LeaderBoard:"LeaderBoard",Login:"Login",PlayList:"PlayList",RadioStation:"RadioStation",Search:"Search",SongList:"SongList"}[e]||e)+"."+{DailyRecommend:"e715b369",FMMusic:"2a94fb71",Home:"80539af4",LeaderBoard:"0e52b67d",Login:"111ce244",PlayList:"b4977298",RadioStation:"003b53ec",Search:"74b087ad",SongList:"70dca4a0","chunk-339ea029":"7cdabaf3","chunk-234c48f1":"69f837cd","chunk-3fdbc532":"13959f97","chunk-5a5d17ce":"29de3d7f","chunk-73511ab3":"3ff53e20","chunk-92909454":"1ed14cd7","chunk-eadf0f44":"cc5817f7","chunk-4287d1b5":"b379ddc7","chunk-7ea5b9f0":"57a1605a"}[e]+".js"}function u(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={DailyRecommend:1,Home:1,LeaderBoard:1,Login:1,PlayList:1,RadioStation:1,Search:1,SongList:1,"chunk-339ea029":1,"chunk-234c48f1":1,"chunk-3fdbc532":1,"chunk-5a5d17ce":1,"chunk-73511ab3":1,"chunk-92909454":1,"chunk-eadf0f44":1,"chunk-4287d1b5":1,"chunk-7ea5b9f0":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({DailyRecommend:"DailyRecommend",FMMusic:"FMMusic",Home:"Home",LeaderBoard:"LeaderBoard",Login:"Login",PlayList:"PlayList",RadioStation:"RadioStation",Search:"Search",SongList:"SongList"}[e]||e)+"."+{DailyRecommend:"e70f9063",FMMusic:"31d6cfe0",Home:"f0f31b1d",LeaderBoard:"968dd523",Login:"f056c387",PlayList:"cc3b5e88",RadioStation:"0b60a532",Search:"af6f00d0",SongList:"0ef16200","chunk-339ea029":"9df5537d","chunk-234c48f1":"1ee8cba7","chunk-3fdbc532":"6fd2819d","chunk-5a5d17ce":"13a76512","chunk-73511ab3":"936e5c4e","chunk-92909454":"825917bc","chunk-eadf0f44":"eb0e0669","chunk-4287d1b5":"8b9e8757","chunk-7ea5b9f0":"2938e868"}[e]+".css",i=u.p+o,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var s=r[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===o||l===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],l=s.getAttribute("data-href");if(l===o||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var o=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete a[e],f.parentNode.removeChild(f),n(r)},f.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,n){o=i[e]=[t,n]}));t.push(o[2]=r);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}i[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=o,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)u.d(n,o,function(t){return e[t]}.bind(null,o));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2b47":function(e,t,n){e.exports=n.p+"img/default.48463321.png"},3576:function(e,t,n){},"365c":function(e,t,n){"use strict";n("b4fb"),n("ecb4"),n("e18c"),n("e35a"),n("5e9f");var o=n("d0f5"),a=n("82ae"),i=n.n(a),r=n("a18c"),c=n("4360"),u=n("0261"),s=new u["default"];function l(e,t){return new Promise((function(n,o){i.a.get(e,{params:t}).then((function(e){n(e)})).catch((function(e){o(e)}))}))}function d(e,t){return new Promise((function(n,o){i.a.post(e,t).then((function(e){n(e)})).catch((function(e){o(e)}))}))}i.a.defaults.baseURL="http://141.164.55.61:5000",i.a.defaults.timeout=15e3,i.a.defaults.withCredentials=!0,i.a.interceptors.request.use((function(e){var t=c["a"].state.token;return t&&(e.headers.Authorization=t),e}),(function(e){return console.log("请求错误",e),Promise.reject(e)})),i.a.interceptors.response.use((function(e){return e.data}),(function(e){if(e.response)switch(e.response.status){case 400:console.log(e.response.statusText),s.$loading.hide(),s.$Toast({message:"操作无效",time:1e3});break;case 401:s.$loading.hide(),s.$Toast({message:"操作无效",time:1e3}),console.log(e.response);break;case 301:s.$Toast({message:"需要登录",time:1e3}),s.$loading.hide(),r["a"].replace({name:"Login",query:{redirect:r["a"].currentRoute.fullPath}}),c["a"].dispatch("setLoginStatus",!1);break;default:break}if("ECONNABORTED"===e.code&&-1!==e.message.indexOf("timeout")){var t=new Promise((function(e){s.$Toast({message:"请求出错重试中!",time:1e3}),e()}));return t.then((function(){return i()(e.config)}))}return Promise.reject(e)})),t["a"]={STATUS:200,Login:function(e){return d("/login/cellphone?timestamp=".concat(Date.now()),Object(o["a"])(Object(o["a"])({},e),{timestamp:Date.now()}))},RefreshLogin:function(){return l("/login/refresh?timestamp=".concat(Date.now()))},Logout:function(){return l("/logout?timestamp=".concat(Date.now()))},BannerList:function(){return l("/banner?timestamp=".concat(Date.now()))},RecommendListNo:function(){return l("/personalized?timestamp=".concat(Date.now()))},RecommendList:function(){return l("/recommend/resource?timestamp=".concat(Date.now()))},RecommendMusicNo:function(){return l("/personalized/newsong?timestamp=".concat(Date.now()))},RecommendMusic:function(){return l("/recommend/songs?timestamp=".concat(Date.now()))},RecommendFMNo:function(){return l("/personalized/djprogram?timestamp=".concat(Date.now()))},RecommendFM:function(){return l("/dj/recommend?timestamp=".concat(Date.now()))},HotSearch:function(){return l("/search/hot/detail?timestamp=".concat(Date.now()))},UserPlayList:function(e){return d("/user/playlist?timestamp=".concat(Date.now()),Object(o["a"])(Object(o["a"])({},e),{timestamp:Date.now()}))},LeaderBoard:function(){return l("/toplist?timestamp=".concat(Date.now()))},PlayListDetail:function(e){return d("/playlist/detail?timestamp=".concat(Date.now()),Object(o["a"])(Object(o["a"])({},{id:e}),{timestamp:Date.now()}))},MusicUrl:function(e){return d("/song/url?timestamp=".concat(Date.now()),Object(o["a"])(Object(o["a"])({},{id:e}),{timestamp:Date.now()}))},MusicLyric:function(e){return l("/lyric?id=".concat(e,"&timestamp=").concat(Date.now()))},MusicDetail:function(e){return d("/song/detail?timestamp=".concat(Date.now()),{ids:e})},SearchSong:function(e){return d("/search?timestamp=".concat(Date.now()),Object(o["a"])({},e))},rdBanner:function(){return l("/dj/banner?timestamp=".concat(Date.now()))},rdToplist:function(){return l("/dj/toplist/popular?timestamp=".concat(Date.now()))},collectPlayList:function(e,t){return l("/playlist/subscribe?t=".concat(e,"&id=").concat(t,"&timestamp=").concat(Date.now()))},PlayListComment:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15;return d("/comment/playlist?timestamp=".concat(Date.now()),{id:e,before:n,offset:t,limit:o})}}},4360:function(e,t,n){"use strict";var o=n("0261"),a=n("9f3a"),i={navIndex:1,showSidebar:!1,isLogin:window.localStorage.getItem("isLogin"),userInfo:window.localStorage.getItem("userInfo"),token:window.localStorage.getItem("token"),showPlayer:!1,fullScreen:!1,currentIndex:0,playing:!1,playList:[],lyric:null},r=i,c=n("0b46"),u={navIndex:function(e){return e.navIndex},loginStatus:function(e){return e.isLogin},sideBar:function(e){return e.showSidebar},userInfo:function(e){var t=e.userInfo;while("object"!==Object(c["a"])(t))t=JSON.parse(t);return t},token:function(e){return e.token},fullScreen:function(e){return e.fullScreen},showPlayer:function(e){return e.showPlayer},playing:function(e){return e.playing},playList:function(e){return e.playList},lyric:function(e){return e.lyric},currentIndex:function(e){return e.currentIndex}},s=u,l=(n("b4fb"),n("3466"),n("ea69"),{SETISLOGIN:function(e,t){e.isLogin=t},SETUSERINFO:function(e,t){e.userInfo=t},SETSIDEBAR:function(e,t){e.showSidebar=t},SETSHOWPLAYER:function(e,t){e.showPlayer=t},SETFULLSCREEN:function(e,t){e.fullScreen=t},SETCURRENTINDEX:function(e,t){e.currentIndex=t},SETPLAYLIST:function(e,t){var n=[];if(Array.isArray(t))n=t.concat(e.playList),e.playList=n;else{var o=e.playList.findIndex((function(e){return e.id===t.id}));-1!==o&&e.playList.splice(o,1),e.playList.unshift(t)}},CLEARPLAYLIST:function(e){e.playList=[]},SETPLAYING:function(e,t){e.playing=t},SETLYRIC:function(e,t){console.log("设置歌词",t),e.lyric=t}}),d=l,f=(n("e18c"),n("365c")),m=n("a18c"),h={getRefreshLogin:function(e){var t=e.commit;return new Promise((function(e,n){f["a"].RefreshLogin().then((function(n){var o=n.code===f["a"].STATUS;t("SETISLOGIN",o),window.localStorage.setItem("isLogin",o),e(n)})).catch((function(e){console.log("刷新登录状态报错",e),n(e)}))}))},setLoginStatus:function(e,t){var n=e.commit;t||(window.localStorage.removeItem("userInfo"),window.localStorage.removeItem("token"),window.localStorage.removeItem("isLogin")),n("SETISLOGIN",t)},setPlayShow:function(e,t){var n=e.commit;n("SETPLAYLIST",t),n("SETCURRENTINDEX",0),n("SETFULLSCREEN",!0),n("SETPLAYING",!0),n("SETSHOWPLAYER",!0),m["a"].push("/Player")}},p=h;o["default"].use(a["a"]);t["a"]=new a["a"].Store({state:r,getters:s,mutations:d,actions:p})},"440c":function(e,t,n){},4942:function(e,t){(function(e,t){var n=t.documentElement,o="orientationchange"in window?"orientationchange":"resize",a=function e(){var o=n.clientWidth;function a(){t.body?t.body.style.fontSize="16px":t.addEventListener("DOMContentLoaded",e)}n.style.fontSize=o/375*100+"px",a()};a(),t.addEventListener&&e.addEventListener(o,a,!1)})(window,document)},"56d7":function(e,t,n){"use strict";n.r(t);n("a133"),n("ed0d"),n("f09c"),n("e117");var o,a=n("0261"),i=n("82ae"),r=n.n(i),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.transitionName,mode:e.modeName}},[n("keep-alive",{attrs:{exclude:"login,PlayListComment"}},[n("router-view",{staticClass:"view"})],1)],1),n("player")],1)},u=[],s=(n("e18c"),n("e35a"),n("0d7a"),{components:{player:function(){return n.e("chunk-339ea029").then(n.bind(null,"cccf"))}},data:function(){return{transitionName:"",modeName:"out-in"}},watch:{$route:function(e,t){var n=e.path.split("/").length,o=t.path.split("/").length;n>o?(this.transitionName="slide-left",this.modeName="in-out"):(this.transitionName="slide-right",this.modeName="in-out"),"/Player"!==e.path&&"/Player"!==t.path||(this.transitionName="")}}}),l=s,d=(n("5c0b"),n("9ca4")),f=Object(d["a"])(l,c,u,!1,null,null,null),m=f.exports,h=n("a18c"),p=n("4360"),g=(n("4942"),n("fc4a"),n("f5fa"),n("d02f")),b=n.n(g),y=(n("488c"),n("697a")),L=n("0b46"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"toastMessageBox"},[e._v(e._s(e.message))])},S=[],v={name:"toastMessage",data:function(){return{message:"",show:!1}}},P=v,k=(n("d9ba"),Object(d["a"])(P,w,S,!1,null,"1da252a2",null)),E=k.exports,D=a["default"].extend(E),T=null,R=function(e){if(o||(o=new D,document.body.appendChild(o.$mount().$el)),T&&(clearTimeout(T),T=null,o.show=!1,o.message=""),o.time=3e3,"string"===typeof e)o.message=e;else{if("object"!==Object(L["a"])(e))return;var t=e.message,n=e.time;o.message=t,o.time=n||3e3}o.show=!0,T=setTimeout((function(){o.show=!1,clearTimeout(T),T=null,o.message=""}),o.time)};R.close=function(){T&&(clearTimeout(T),T=null,o.show=!1,o.message="")},R.install=function(e){e.prototype.$Toast=R};var I=R,O=n("781b"),j={},N=a["default"].extend(O["default"]);j.install=function(e){var t=new N;t.isShow=!1,document.body.appendChild(t.$mount().$el),e.prototype.$loading={show:function(){t.isShow=!0},hide:function(){t.isShow=!1}}};var M=j;a["default"].use(M),a["default"].use(b.a),a["default"].use(y["a"],{loading:n("2b47")}),a["default"].use(I),r.a.defaults.retry=3,r.a.defaults.retryDelay=2e3,a["default"].config.productionTip=!1,new a["default"]({router:h["a"],store:p["a"],render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("3576"),a=n.n(o);a.a},"781b":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"loader"},[n("svg",{staticClass:"loader-circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"loader-path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"5","stroke-miterlimit":"10"}})])]):e._e()},a=[],i={name:"Loading",props:{isShow:Boolean},data:function(){return{}}},r=i,c=(n("b998"),n("9ca4")),u=Object(c["a"])(r,o,a,!1,null,"553bdd0d",null);t["default"]=u.exports},a18c:function(e,t,n){"use strict";n("e18c");var o=n("0261"),a=n("3f11");o["default"].use(a["a"]);var i=[{path:"/",redirect:"/Home"},{path:"/Home",name:"Home",component:function(){return n.e("Home").then(n.bind(null,"bb51"))}},{path:"/Home/Search",name:"Search",component:function(){return n.e("Search").then(n.bind(null,"2d3b"))}},{path:"/Home/Login",name:"Login",component:function(){return n.e("Login").then(n.bind(null,"a55b"))}},{path:"/Home/DailyRecommend",name:"DailyRecommend",component:function(){return n.e("DailyRecommend").then(n.bind(null,"21bc"))},meta:{requiresAuth:!0}},{path:"/Home/SongList",name:"SongList",component:function(){return n.e("SongList").then(n.bind(null,"4c86"))}},{path:"/Home/PlayList/:playlist_id",name:"PlayList",component:function(){return n.e("PlayList").then(n.bind(null,"fddd"))}},{path:"/Home/PlayList/PlayListComment/:playlist_id",name:"PlayListComment",component:function(){return n.e("PlayList").then(n.bind(null,"5fff"))}},{path:"/Home/LeaderBoard",name:"LeaderBoard",component:function(){return n.e("LeaderBoard").then(n.bind(null,"76ad"))}},{path:"/Home/RadioStation",name:"RadioStation",component:function(){return n.e("RadioStation").then(n.bind(null,"b7d3"))}},{path:"/Home/FMMusic",name:"FMMusic",component:function(){return n.e("FMMusic").then(n.bind(null,"81d2"))},meta:{requiresAuth:!0}}],r=new a["a"]({routes:i,scrollBehavior:c});function c(e,t,n){return n||{x:0,y:0}}r.beforeEach((function(e,t,n){if(e.meta.requiresAuth){var o=window.localStorage.getItem("token");o?n():confirm("需要登录!")&&n({name:"Login",query:{redirect:e.fullPath}})}else n()})),t["a"]=r},a6e6:function(e,t,n){},b998:function(e,t,n){"use strict";var o=n("440c"),a=n.n(o);a.a},d9ba:function(e,t,n){"use strict";var o=n("a6e6"),a=n.n(o);a.a},f5fa:function(e,t,n){},fc4a:function(e,t,n){}});
//# sourceMappingURL=app.1e6ed6ee.js.map