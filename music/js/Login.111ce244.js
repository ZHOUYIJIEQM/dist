(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"19b6":function(t,e,o){"use strict";var i=o("2e51"),n=o.n(i);n.a},"2e51":function(t,e,o){},"6db4":function(t,e,o){"use strict";var i=o("1c8b"),n=o("c10f").trim,r=o("f221");i({target:"String",proto:!0,forced:r("trim")},{trim:function(){return n(this)}})},a1d8:function(t,e,o){t.exports=o.p+"img/logo.3bad192a.png"},a55b:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-page"},[o("div",{staticClass:"title"},[o("i",{staticClass:"iconfont icon-fanhui back",on:{click:t.goBack}})]),t._m(0),o("div",{staticClass:"login-form"},[o("div",{staticClass:"tel"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.phone,expression:"loginForm.phone"}],attrs:{id:"telNum",type:"text",placeholder:"输入手机号码"},domProps:{value:t.loginForm.phone},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"phone",e.target.value)}}})]),o("div",{staticClass:"pass"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],attrs:{id:"passwd",type:"password",placeholder:"输入密码"},domProps:{value:t.loginForm.password},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"password",e.target.value)}}})]),o("div",{staticClass:"btn"},[o("div",{staticClass:"login-btn",on:{click:t.login}},[t._v(" 登录 ")])])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo-pic"},[i("img",{attrs:{src:o("a1d8"),alt:""}})])}],r=(o("ecb4"),o("e35a"),o("5e9f"),o("6db4"),o("365c")),s={name:"login",data:function(){return{loginForm:{phone:"",password:""},redirect:""}},created:function(){this.redirect=this.$router.currentRoute.query.redirect},methods:{goBack:function(){this.redirect?-1!==this.redirect.indexOf("DailyRecommend")?this.$router.replace({name:"Home"}):this.$router.replace(this.redirect):this.$router.replace({name:"Home"})},login:function(){var t=this;this.$loading.show(),""===this.loginForm.phone.trim()||""===this.loginForm.password.trim()?(alert("账号或密码不能为空"),""===this.loginForm.phone.trim()&&(this.loginForm.phone=""),""===this.loginForm.password.trim()&&(this.loginForm.password="")):r["a"].Login(this.loginForm).then((function(e){e.code===r["a"].STATUS?(t.$store.commit("SETISLOGIN",!0),window.localStorage.setItem("userInfo",JSON.stringify(e,null,2)),window.localStorage.setItem("token",e.token),window.localStorage.setItem("isLogin",!0),t.$store.commit("SETUSERINFO",e),t.redirect?t.$router.push(t.redirect):t.$router.push({name:"Home"}),t.$Toast({message:"登录成功",time:3e3})):alert("登录失败! ".concat(e.msg)),t.$loading.hide()})).catch((function(e){console.log("登录失败",e),t.$loading.hide(),alert("登录失败")}))}}},a=s,c=(o("19b6"),o("9ca4")),l=Object(c["a"])(a,i,n,!1,null,null,null);e["default"]=l.exports},c10f:function(t,e,o){var i=o("2732"),n=o("fc8c"),r="["+n+"]",s=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),c=function(t){return function(e){var o=String(i(e));return 1&t&&(o=o.replace(s,"")),2&t&&(o=o.replace(a,"")),o}};t.exports={start:c(1),end:c(2),trim:c(3)}},f221:function(t,e,o){var i=o("efe2"),n=o("fc8c"),r="​᠎";t.exports=function(t){return i((function(){return!!n[t]()||r[t]()!=r||n[t].name!==t}))}},fc8c:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=Login.111ce244.js.map