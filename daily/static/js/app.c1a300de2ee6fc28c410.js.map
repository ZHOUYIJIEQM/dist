{"version":3,"sources":["webpack:///./src/api/proxyPort.js","webpack:///src/App.vue","webpack:///./src/App.vue?7374","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/main.js","webpack:///./src/api/index.js"],"names":["__webpack_exports__","apiPath","imgPath","App","name","components","globalLoad","__webpack_require__","e","then","bind","computed","refreshing","this","$store","state","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","$route","meta","_e","_v","keepAlive","staticRenderFns","src_App","normalizeComponent","ssrContext","Vue","use","Router","RT","mode","routes","path","component","scrollBehavior","to","from","savedPosition","x","y","actions","getNewsLatest","_ref","commit","api","getLatest","res","top_stories","stories","date","getNewsBefore","_ref2","beforeStories","length","getBeforeById","getExtra","_ref3","getStoryExtraById","Vuex","store","Store","swiperStories","todayStories","storyExtra","sections","section","newsDetailId","mutations","setSwiperStories","data","setTodayStories","setDate","setStoryExtra","addBeforeStories","push","clearBeforeStories","setRefreshing","setNewsDetailId","VueAwesomeSwiper","config","productionTip","prototype","$toast","Toast","el","router","template","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1__proxyPort_js__","API","ajax","axios","create","baseURL","proxy","replaceId","url","replace","interceptors","response","get","getPost","getShortCommentsById","getSections","getSectionById"],"mappings":"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","file":"static/js/app.c1a300de2ee6fc28c410.js","sourcesContent":["export default {\r\n  apiPath: 'http://104.238.133.17:8010/',\r\n  imgPath: 'http://104.238.133.17:8011/img/'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/proxyPort.js","<template>\r\n  <div id=\"app\">\r\n    <keep-alive>\r\n      <router-view v-if=\"$route.meta.keepAlive\"></router-view>\r\n    </keep-alive>\r\n    <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\r\n    <globalLoad :refreshing=\"refreshing\"></globalLoad>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    globalLoad: () => import('@/components/GlobalLoad')\r\n  },\r\n  computed: {\r\n    refreshing(){\r\n      return this.$store.state.refreshing;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),_vm._v(\" \"),(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e(),_vm._v(\" \"),_c('globalLoad',{attrs:{\"refreshing\":_vm.refreshing}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7fc7e336\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7fc7e336\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":32,\\\"remPrecision\\\":5}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fc7e336\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7fc7e336\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nVue.use(Router)\r\n\r\nconst RT = new Router({\r\n  mode: 'history',\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'homePage',\r\n      component: () => import('@/views/HomePage'),\r\n      meta: {\r\n        keepAlive: true,\r\n        // isBack: false\r\n      }\r\n    },\r\n    {\r\n      path: '/newsDetail/:id',\r\n      name: 'newsDetail',\r\n      component: () => import('@/views/NewsDetail'),\r\n      meta: {\r\n        keepAlive: true,\r\n        // keepAlive: false,\r\n        // isBack: false\r\n      }\r\n    },\r\n    {\r\n      path: '/newsDetail/:id/comment',\r\n      name: 'comment',\r\n      component: () => import('@/views/Comment'),\r\n      meta: {\r\n        keepAlive: false\r\n      }\r\n    }\r\n  ],\r\n  scrollBehavior(to, from, savedPosition){\r\n    if(savedPosition){\r\n      return savedPosition;\r\n    }else{\r\n      return {x: 0, y: 0};\r\n    }\r\n  }\r\n});\r\n\r\nexport default RT;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import api from '@/api'\r\n\r\nexport default {\r\n  // 获取最新文章\r\n  getNewsLatest({state, commit}){\r\n    return api.getLatest().then(res => {\r\n      // console.log('最新文章\\n', JSON.stringify(res, null, '  '));\r\n      commit('setSwiperStories', res.top_stories);\r\n      commit('setTodayStories', res.stories);\r\n      commit('setDate', res.date);\r\n    });\r\n  },\r\n  // 某天文章\r\n  getNewsBefore({state, commit}){\r\n    let date = '';\r\n    if(state.beforeStories.length === 0){\r\n      date = state.date;\r\n    }else{\r\n      date = state.beforeStories[state.beforeStories.length-1].date;\r\n    }\r\n    return api.getBeforeById(date).then(res => {\r\n      // console.log('往期文章：', res)\r\n      commit('addBeforeStories', res)\r\n    })\r\n  },\r\n  // 获取对应文章短评(点赞, 短评数量)\r\n  getExtra({state, commit}, id){\r\n    return api.getStoryExtraById(id).then(res => {\r\n      // console.log(res)\r\n      commit('setStoryExtra', res)\r\n    })\r\n  },\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport state from './state'\r\nimport mutations from './mutations'\r\nimport actions from './actions'\r\n\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n  state,\r\n  mutations,\r\n  actions,\r\n});\r\n\r\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default {\r\n  swiperStories: [],\r\n  todayStories: [],\r\n  date: '',\r\n  beforeStories: [],\r\n  storyExtra: {},\r\n  sections: [],\r\n  section: {},\r\n  refreshing: true,\r\n  newsDetailId: 0,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","export default {\r\n  setSwiperStories(state, data){\r\n    // console.log('设置轮播文章', data);\r\n    state.swiperStories = data;\r\n  },\r\n  setTodayStories(state, data){\r\n    // console.log('设置今日文章', data);\r\n    state.todayStories = data;\r\n  },\r\n  setDate(state, data){\r\n    // console.log('设置请求的日期', data);\r\n    state.date = data;\r\n  },\r\n  setStoryExtra(state, data){\r\n    // console.log('设置额外评论', data);\r\n    state.storyExtra = data;\r\n  },\r\n  addBeforeStories(state, data){\r\n    // console.log('设置往日的文章', data);\r\n    state.beforeStories.push(data);\r\n  },\r\n  clearBeforeStories(state){\r\n    state.beforeStories = [];\r\n  },\r\n  setRefreshing(state, data){\r\n    state.refreshing = data;\r\n  },\r\n  setNewsDetailId(state, id){\r\n    state.newsDetailId = id;\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'\r\nimport 'lib-flexible'\r\nimport '@/styles/common.scss'\r\nimport '@/styles/iconfont/iconfont.css'\r\nimport 'mint-ui/lib/style.css'\r\nimport {Toast} from 'mint-ui'\r\n\r\nimport VueAwesomeSwiper from 'vue-awesome-swiper'\r\nimport 'swiper/dist/css/swiper.css'\r\nVue.use(VueAwesomeSwiper, /* { default global options } */)\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.prototype.$toast = Toast\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\r\nimport proxy from './proxyPort.js'\r\n\r\n/*\r\n  // 最新文章\r\n  http://news-at.zhihu.com/api/4/news/latest\r\n  // 过去某天文章\r\n  http://news.at.zhihu.com/api/4/news/before/${idNum}\r\n  // 短评论内容\r\n  http://news-at.zhihu.com/api/4/story/${idNum}/short-comments\r\n  // 短评论数量 点赞 \r\n  http://news-at.zhihu.com/api/4/story-extra/${idNum}\r\n  // 所有日报栏目\r\n  http://news-at.zhihu.com/api/3/sections\r\n  // 某个栏目\r\n  http://news-at.zhihu.com/api/3/section/${idNum}\r\n*/\r\n\r\nconst API = {\r\n  latest: '/news/latest',\r\n  before: '/news/before/idNum',\r\n  post: '/news/idNum',\r\n  shortComments: '/story/idNum/short-comments',\r\n  storyExtra: '/story-extra/idNum',\r\n  sections: '/sections',\r\n  section: '/section/idNum',\r\n};\r\n\r\nconst ajax = axios.create({\r\n  baseURL: proxy.apiPath,  \r\n});\r\n// 响应拦截器\r\najax.interceptors.response.use(res => {\r\n  // console.log('axios 拦截的数据', res);\r\n  return res.data;\r\n});\r\n\r\nfunction replaceId (url, id) {\r\n  return url.replace(/\\/idNum/, `/${id}`);\r\n}\r\n\r\nexport default {\r\n  // 获取最新文章\r\n  getLatest(){\r\n    return ajax.get(API.latest);\r\n  },\r\n  // 获取往期文章\r\n  getBeforeById(date){\r\n    let url = replaceId(API.before, date);\r\n    return ajax.get(url);\r\n  },\r\n  // 获取对应id的文章\r\n  getPost(id){\r\n    let url = replaceId(API.post, id);\r\n    return ajax.get(url);\r\n  },\r\n  // 获取某篇文章的短评论\r\n  getShortCommentsById(id){\r\n    let url = replaceId(API.shortComments, id);\r\n    return ajax.get(url);\r\n  },\r\n  // 获取短评论的额外信息，(点赞, 短评数量)\r\n  getStoryExtraById(id){\r\n    let url = replaceId(API.storyExtra, id);\r\n    return ajax.get(url);\r\n  },\r\n  // 获取所有栏目\r\n  getSections(){\r\n    return ajax.get(API.sections);\r\n  },\r\n  // 获取某个栏目\r\n  getSectionById(id){\r\n    let url = replaceId(API.section, id);\r\n    return ajax.get(url);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js"],"sourceRoot":""}